<!DOCTYPE html>
<html lang="en-us">
  <head>
	<meta name="generator" content="Hugo 0.55.6" />
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="James">
  <meta name="description" content="Coding Every Day">
  <meta name="keywords" content="C&#43;&#43;,Qt">
  
  
  
  <link rel="canonical" href="https://newjames.github.io/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           James Blog
       
  </title>
  <meta name="title" content="James Blog">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
    <link href="https://newjames.github.io/index.xml" rel="alternate" type="application/rss+xml" title="James Blog" />
    <link href="https://newjames.github.io/index.xml" rel="feed" type="application/rss+xml" title="James Blog" />
  
  

<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "url": "https:\/\/newjames.github.io\/",
    "name": "James Blog",
    "author": {
        "@type": "Person",
        "name": "James"
    },
    "description": "Coding Every Day",
}
</script>
 

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://newjames.github.io/">James Blog</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/post/" title="">Index</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/about/" title="About James">About James</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://newjames.github.io/">James Blog</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/post/" title="">Index</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/about/" title="About James">About James</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
  	
  	
<div class="post-warp">
	<div class="intro">
    
    
    
 
</div>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://newjames.github.io/post/seventh/">Qt语言家使用</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 

       			 Qt语言家使用 最近要将项目做汉化，于是使用Qt语言家插件，它能够自动识别Qt和qml文件中的tr(&ldquo;&rdquo;)字段并生成文件供调用。
以下是基本操作步骤：
 在项目.pro文件中添加TRANSLATIONS + =zh_Cn.ts zh_En.ts 这里是指中英文两个语言版本，这里我的源项目是英文的，如果要将qml的tr一起添加进去则要添加以下信息：
lupdate_only { SOURCES+= \ ./src/VehicleSetup/*.qml \ ./src/QmlControls/*.qml \ ./src/AnalyzeView/*.qml \ ./src/FlightDisplay/*.qml \ ./src/FlightMap/*.qml \ ./src/FlightMap/Widgets/*.qml \ ./src/AutoPilotPlugins/PX4/*.qml \ ./src/MissionEditor/*.qml \ ./src/ViewWidgets/*.qml \ ./src/ui/toolbar/*.qml \ ./src/ui/*.qml \ ./src/FactSystem/FactControls/*.qml }  这里是在lupdate_only中添加qml文件路径 - 之后点击工具-&gt;外部-&gt;Qt语言家-&gt;更新翻译 之后在目录下便会生成两个.ts文件 - 打开对应编译器目录下bin文件中linguist.exe Qt语言家 - 用Qt语言家打开相应的.ts文件进行翻译 - 翻译完成后点击Qtcreator工具-&gt;外部-&gt;Qt语言家-&gt;发布翻译 - 在文件中引用.ts文件，注意：引用和必须在窗口创建前初始化时实例化QTrasnlator并加载好.ts文件
mTranslator = new QTranslator(this); _loadTranslatorFile(); void QGCApplication::_loadTranslatorFile() { bool isLoad=mTranslator-&gt;load(QCoreApplication::applicationDirPath()+&quot;/zh_Cn.qm&quot;); qDebug()&lt;&lt;&quot;setChinese&quot;&lt;&lt;isLoad&lt;&lt;&quot;\n&quot;; this-&gt;installTranslator(mTranslator); }   
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2019-11-06 itemprop="datePublished">November 6, 2019</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://newjames.github.io/categories/qt/"> Qt </a>
                        
                </span>
        </div>
				
				<div class="post-tags">
        		
        			<span class="tag"><a href="https://newjames.github.io/tags/qt/">
               	 #Qt</a></span>
        		
        			<span class="tag"><a href="https://newjames.github.io/tags/c&#43;&#43;/">
               	 #C&#43;&#43;</a></span>
        		
				</div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://newjames.github.io/post/sixth/">QGC源码学习（3）关键数据传输</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 

       			QGC源码学习（3）关键数据传输 在无人系统上位机显示中，最为关键的数据为IMU上传的Roll,Pitch,Yaw和高度（深度）以及方位，在QGC中，由MAVLinkProtocol::messageReceived
接收到Mavlink数据后，通过信号槽：
Vehicle.cc connect(_mavlink, &amp;MAVLinkProtocol::messageReceived, this, &amp;Vehicle::_mavlinkMessageReceived); void Vehicle::_mavlinkMessageReceived(LinkInterface* link, mavlink_message_t message) { ... ... ... _uas-&gt;receiveMessage(message); } UAS.cc void UAS::receiveMessage(mavlink_message_t message) { switch (message.compid) case MAV_...1: case MAV_...2: case MAV_...3: case MAVLINK_MSG_ID_ATTITUDE: { mavlink_attitude_t attitude; mavlink_msg_attitude_decode(&amp;message, &amp;attitude); quint64 time = getUnixReferenceTime(attitude.time_boot_ms); emit attitudeChanged(this, message.compid, QGC::limitAngleToPMPIf(attitude.roll), QGC::limitAngleToPMPIf(attitude.pitch), QGC::limitAngleToPMPIf(attitude.yaw), time); if (!wrongComponent) { lastAttitude = time; setRoll(QGC::limitAngleToPMPIf(attitude.roll)); setPitch(QGC::limitAngleToPMPIf(attitude.pitch)); setYaw(QGC::limitAngleToPMPIf(attitude.yaw)); attitudeKnown = true; emit attitudeChanged(this, getRoll(), getPitch(), getYaw(), time); } } break; .
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2019-11-06 itemprop="datePublished">November 6, 2019</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://newjames.github.io/categories/qgc%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/"> QGC源码学习 </a>
                        
                </span>
        </div>
				
				<div class="post-tags">
        		
        			<span class="tag"><a href="https://newjames.github.io/tags/qt/">
               	 #Qt</a></span>
        		
        			<span class="tag"><a href="https://newjames.github.io/tags/c&#43;&#43;/">
               	 #C&#43;&#43;</a></span>
        		
				</div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://newjames.github.io/post/fifth/">QGC源码学习(2)-ToolBox各模块学习</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 

       			 QGC源码学习(2)-ToolBox各模块学习 QGC工具模块主要有以下组成：
 settingsManager corePlugin audioOutput -声音管理 factSystem -实例数据管理 firmwarePluginManager -固件管理 imageProvider joystickManager -摇杆管理 linkManager -数据连接管理 mavlinkProtocol -mavlink协议 misiionConmmandTree multiVehicleManager -多机器管理 mapEngineManager -地图引擎管理 uasMessageHandler -日志信息管理 followMe qgcPositionManager -QGC位置管理 videoManager -视频管理 mavlinkLogManager -mvlink协议注册管理  
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2019-11-06 itemprop="datePublished">November 6, 2019</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://newjames.github.io/categories/qgc%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/"> QGC源码学习 </a>
                        
                </span>
        </div>
				
				<div class="post-tags">
        		
        			<span class="tag"><a href="https://newjames.github.io/tags/qt/">
               	 #Qt</a></span>
        		
        			<span class="tag"><a href="https://newjames.github.io/tags/c&#43;&#43;/">
               	 #C&#43;&#43;</a></span>
        		
				</div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://newjames.github.io/post/fourth/">QGC源码学习(1)-main函数学习</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 

       			QGroundcontrol 源码学习（1）-万物之始main 作为非科班人员，第一次接触像QGroundcontrol这么庞大且杂乱的项目还是一头雾水，我在前期花了许多无效时间去摸索整个QGroundControl的架构和模型，
并由此总结出比较简单的中大型项目的学习规律。在此记录下来。
QGroundControl启动顺序 首选不不关注QGC的大体框架，即使通过文档先了解了也只是有了大致概念，真正深入理解和在此基础上进行二次开发还是需要细致到源码细节上。因此我还是先找到QGC的
main函数，从初始化窗口开始了解。我们是在win环境下编译，忽略掉mac、linux的define，main函数就做了一件事：
QGCApplication* app = new QGCApplication(argc, argv, runUnitTests); Q_CHECK_PTR(app); app-&gt;_initCommon(); //-- Initialize Cache System getQGCMapEngine()-&gt;init();  其中QGCMapEngine初始化地图引擎，在此不在展开，Q_CHECK_PTR宏是对指针是否合法的检测，在重要传参初始化指针的合法性检查中经常用到。
顺着QGCApplication.cc源码看去初始化了什么：
// Set up our logging filters QGCLoggingCategoryRegister::instance()-&gt;setFilterRulesFromSettings(loggingOptions); // gstreamer debug settings QString savePath, gstDebugLevel; if (settings.contains(AppSettings::savePathName)) { savePath = settings.value(&quot;SavePath&quot;).toString() + &quot;/Logs/gst&quot;; // hardcode log path here, appsetting is not available yet if (!QDir(savePath).exists()) { QDir().mkdir(savePath); } } if (settings.contains(AppSettings::gstDebugName)) { gstDebugLevel = &quot;*:&quot; + settings.
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2019-11-06 itemprop="datePublished">November 6, 2019</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://newjames.github.io/categories/qgc%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/"> QGC源码学习 </a>
                        
                </span>
        </div>
				
				<div class="post-tags">
        		
        			<span class="tag"><a href="https://newjames.github.io/tags/qt/">
               	 #Qt</a></span>
        		
        			<span class="tag"><a href="https://newjames.github.io/tags/c&#43;&#43;/">
               	 #C&#43;&#43;</a></span>
        		
				</div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://newjames.github.io/post/third/">Qt项目打包发布</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 

       			Qt项目打包发布 Qt项目打包一般分为以下流程： - 添加qt依赖库 - 添加外部依赖库 通过Qt自带的工具进行Qt项目的发布还是比较简单的，以下发布流程操作与win10环境，linux系统下区别不大
首先在Qt中构建编译Release项目，将编译生成好的release文件中的.exe文件单独复制到一单独文件夹中。
使用Qt自带的Qt*-bit for Desktop(#)命令行,其中 * 为Qt版本号，#为编译时所对应的编译器，然后cd到.exe文件夹中，如果是Widget Application(不使用Qquick)项目，
执行windeployqt %.exe命令，%为项目名称，如果是Quick Application 执行 windeployqt %.exe --qmldir &quot;qml路径&quot;，qml路径为Qt安装路径\版本号\编译器\qml
接下来命令行就会在目录下添加Qt对应的依赖lib文件，若项目有依赖外部其他第三方库，将第三方库的静态链接库添加至文件夹中即可。
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2019-11-04 itemprop="datePublished">November 4, 2019</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://newjames.github.io/categories/qt/"> Qt </a>
                        
                </span>
        </div>
				
				<div class="post-tags">
        		
        			<span class="tag"><a href="https://newjames.github.io/tags/qt/">
               	 #Qt</a></span>
        		
        			<span class="tag"><a href="https://newjames.github.io/tags/%E7%BC%96%E8%AF%91/">
               	 #编译</a></span>
        		
				</div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://newjames.github.io/post/second/">多个Lib静态库合并为一个的方法</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 

       			 #多个Lib静态库合并为一个的方法
问题 当项目的依赖库较多时，我们在自我编译添加链接和项目发布时都十分的麻烦，想到之前Opencv的Lib库只有一个Opencv_world.lib，遂想到能否将多个Lib合并起来。网上还是有大量的回答的，现假装搬运复述一遍。
假设现在有01.lib,02.lib,03.lib三个lib库，需要合并成combine.lib
解决方法  首先需要vsIDE,一般windows下写c++应该都会装吧，在vs安装路径中 你的安装路径\VC\bin\lib.exe，双击lib.exe，若缺少运行环境，把对应的动态链接库拷贝到文件夹下即可。
 将需要合并的01.lib,02.lib,03.lib复制到上述工作目录中。
 之后打开CMD控制台cd进入lib.exe工作目录下,在命令行中输入`lib.exe /output: combine.lib 01.lib 02.lib 03.lib`,
 运行后如果库之间的某些函数是相同的（不是重载），lib,exe会报warning,这个不用担心，我再合并opencv的库时候刷了满屏。
  
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2019-10-26 itemprop="datePublished">October 26, 2019</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://newjames.github.io/categories/%E7%BC%96%E8%AF%91/"> 编译 </a>
                        
                </span>
        </div>
				
				<div class="post-tags">
        		
        			<span class="tag"><a href="https://newjames.github.io/tags/%E7%BC%96%E8%AF%91/">
               	 #编译</a></span>
        		
        			<span class="tag"><a href="https://newjames.github.io/tags/c&#43;&#43;/">
               	 #C&#43;&#43;</a></span>
        		
				</div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://newjames.github.io/post/first/">Git Clone下载主题失败及解决</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 

       			 Git Clone 下载主题出错及解决 问题 第一次使用Hugo实现静态网站生成，在下载主题时遇到如下问题:
使用 git clone https://github.com/kakawait/hugo-tranquilpeak-theme.git时报错
错误显示
error: RPC failed; curl 18 transfer closed with outstanding read data remaining
fatal: The remote end hung up unexpectedly
fatal: early EOF
fatal: index-pack failed 在网上大致搜寻了一下，一般是说项目太久，Tag资源文件太大所导致一般是如下两个解决方案。
 方法一
扩容 git config --global http.postBuffer 524288000
 这个方法我没有成功，大家可以先试试，没有成功推荐方法二，还出错，我就没经历过
 方法二
 将连接方式由http改成ssh，即https://改为git://
   以上问题都是在win10下遇到的。  
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2019-10-21 itemprop="datePublished">October 21, 2019</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://newjames.github.io/categories/blog%E6%90%AD%E5%BB%BA/"> blog搭建 </a>
                        
                </span>
        </div>
				
				<div class="post-tags">
        		
        			<span class="tag"><a href="https://newjames.github.io/tags/hugo/">
               	 #hugo</a></span>
        		
        			<span class="tag"><a href="https://newjames.github.io/tags/blog%E6%90%AD%E5%BB%BA/">
               	 #blog搭建</a></span>
        		
				</div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://newjames.github.io/about/">About James</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 

       			机械专业的小码农
主要从事方向：C++ Qt 机器视觉
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=0001-01-01 itemprop="datePublished">January 1, 0001</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	

	

</div>

  

          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2019 - 2019</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://newjames.github.io/">James</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>











    
    <script src="/js/vendor_main.min.js" async=""></script>



     </div>
  </body>
</html>
